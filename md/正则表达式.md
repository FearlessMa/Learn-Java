# æ­£åˆ™è¡¨è¾¾å¼

## ç¬¬10ç«  Â» è¯¾æ—¶38 è®¤è¯†æ­£åˆ™è¡¨è¾¾å¼

* éªŒè¯å­—ç¬¦ä¸²æ˜¯å¦ç”±æ•°å­—ç»„æˆ

```java
public class JavaDemo50 {
    public static void main(String[] args) {
        String str = "23456";
        if (isNumber(str)) {
            int num = Integer.parseInt(str);
            System.out.println(num * 2);
        }
    }

    public static Boolean isNumber(String str) {
        char[] arr = str.toCharArray();
        for (char item : arr) {
            if (item < '0' || item > '9') {
                return false;
            }
        }
        return true;
    }
}
```

* ä½¿ç”¨æ­£åˆ™éªŒè¯

```java

public class JavaDemo50 {
    public static void main(String[] args) {
        String str = "23456";
        if(str.matches("\\d+")){
            int num = Integer.parseInt(str);
            System.out.println(num * 2);
        }
    }
}
```

<strong>

* jdk1.4ä¹‹å‰éœ€è¦å¼•å…¥æ­£åˆ™jaråŒ…ï¼Œjak1.4ä¹‹åä¸éœ€è¦å¼•å…¥jaråŒ…äº†ï¼Œé»˜è®¤å¯ä»¥ä½¿ç”¨ã€‚åŒæ—¶æä¾›java.util.regexå¼€å‘åŒ…ï¼ŒStringç±»ä¹Ÿæœ‰äº†ä¿®æ”¹ï¼Œä½¿å…¶å¯ä»¥æœ‰æ–¹æ³•ç›´æ¥å¤„ç†æ­£åˆ™ã€‚

* ä½¿ç”¨æ­£åˆ™æœ€å¤§çš„å¥½å¤„æ˜¯æ–¹ä¾¿è¿›è¡ŒéªŒè¯å¤„ç†ï¼Œæ–¹ä¾¿å­—ç¬¦ä¸²çš„å†…ä¿®æ”¹å¤„ç†ã€‚
</strong>

## ç¬¬10ç«  Â» è¯¾æ—¶39 å¸¸ç”¨æ­£åˆ™æ ‡è®°

* å¸¸ç”¨çš„æ­£åˆ™æ ‡è®°,java.util.regexåŒ…ä¸­æœ‰æä¾›ä¸€ä¸ªPatternç¨‹åºç±»ï¼Œåœ¨è¿™ä¸ªç¨‹åºç±»ä¸­å®šä¹‰æœ‰æ‰€æœ‰æ”¯æŒçš„æ­£åˆ™æ ‡è®°ã€‚

    * ã€æ•°é‡ï¼šå•ä¸ªã€‘å­—ç¬¦åŒ¹é… ï¼š
        * x è¡¨ç¤º ï¼šä»»æ„å­—ç¬¦
        * \\è¡¨ç¤º ï¼šâ€œ\â€
        * \n : æ¢è¡Œ
        * \t : åˆ¶è¡¨ç¬¦

    * ã€æ•°é‡ï¼šå•ä¸ªã€‘å­—ç¬¦é›†(å¯ä»¥ä»»é€‰ä¸€ä¸ªå­—ç¬¦)ï¼š
        * [abc] : åªè¦åŒ¹é…å…¶ä¸­ä»»æ„ä¸€ä¸ªå°±å¯ä»¥
        * [^abc] : åªè¦    <strong>ä¸æ˜¯</strong>     å…¶ä¸­ä»»æ„ä¸€ä¸ªå°±å¯ä»¥
        * [a-zA-Z] : ä»»æ„å­—æ¯ç»„æˆï¼Œä¸åŒºåˆ†å¤§å°å†™
        * [0-9] : è¡¨ç¤ºä¸€ä½æ•°å­—ç»„æˆ
        * 

    * ã€æ•°é‡ï¼šå•ä¸ªã€‘ç®€åŒ–å­—ç¬¦é›†(å¯ä»¥ä»»é€‰ä¸€ä¸ªå­—ç¬¦)ï¼š
        * . : è¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦
        * \d : ä¸€ä¸ªæ•°å­— ç­‰ä»·äº [0-9]
        * \D : éæ•°å­— ç­‰ä»·äº [^0-9]
        * \s : åŒ¹é…ä»»æ„çš„ä¸€ä½ï¼Œç©ºæ ¼ã€æ¢è¡Œã€åˆ¶è¡¨ç¬¦
        * \S : åŒ¹é…ä»»æ„ä¸€ä½çš„éï¼Œç©ºæ ¼ã€æ¢è¡Œã€åˆ¶è¡¨ç¬¦
        * \w : åŒ¹é…ä»»æ„ä¸€ä½å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œç­‰ä»·äº [a-zA-Z_0-9]
        * \W : åŒ¹é…ä»»æ„ä¸€ä½éå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œç­‰ä»·äº[^a-zA-Z_0-9]

    * ã€æ•°é‡ï¼šå•ä¸ªã€‘è¾¹ç•ŒåŒ¹é…ï¼š
        * ^ : è¾¹ç•Œå¼€å§‹
        * $ : è¾¹ç•Œç»“æŸ

    * ã€æ•°é‡ï¼šå¤šä¸ªã€‘æ•°é‡è¡¨è¾¾ï¼š åªæœ‰æ·»åŠ æ•°é‡æè¿°æ‰å¯ä»¥åŒ¹é…å¤šä¸ºå­—ç¬¦
        * è¡¨è¾¾å¼? : ?è¡¨ç¤ºæ•°é‡ä¸ç¡®å®š 0 æˆ–1æ¬¡ï¼Œæœ€å°‘0æ¬¡ï¼Œæœ€å¤š1æ¬¡
        * è¡¨è¾¾å¼* : *è¡¨ç¤ºæ•°é‡ä¸ç¡®å®š ä»»æ„æ¬¡æ•°
        * è¡¨è¾¾å¼+ : +è¡¨ç¤ºæ•°é‡ä¸ç¡®å®š è‡³å°‘ä¸€æ¬¡,å¤šæ¬¡ä¸é™
        * è¡¨è¾¾å¼{n} : {n}è¡¨ç¤ºæ•°é‡ä¸ç¡®å®š næ¬¡
        * è¡¨è¾¾å¼{n,} : {n,}è¡¨ç¤ºæ•°é‡ä¸ç¡®å®š næ¬¡ä»¥ä¸Š
        * è¡¨è¾¾å¼{n,m} : {n,m}è¡¨ç¤ºæ•°é‡ä¸ç¡®å®š n~mæ¬¡

    * ã€é€»è¾‘è¡¨è¾¾ã€‘é“¾æ¥å¤šä¸ªæ­£åˆ™ï¼š
        * è¡¨è¾¾å¼Xè¡¨è¾¾å¼Y : è¡¨ç¤ºXè¡¨è¾¾å¼ä¹‹åç´§è·ŸYè¡¨è¾¾ çš„åŒ¹é…
        * X|Y : æœ‰ä¸€ä¸ªè¡¨è¾¾å¼æ»¡è¶³å³å¯
        * (è¡¨è¾¾å¼) : ()ä¸ºè¡¨è¾¾å¼è®¾ç½®ä¸€ä¸ªæ•´ä½“æè¿°ï¼Œå¯ä»¥ä¸ºæ•´ä½“æè¿°è®¾ç½®æ•°é‡å•ä½ã€‚

## ç¬¬10ç«  Â» è¯¾æ—¶40 Stringç±»å¯¹æ­£åˆ™çš„æ”¯æŒ

* Stringç±»é‡Œæä¾›å¦‚ä¸‹æœ‰å…³æ­£åˆ™çš„æ“ä½œæ–¹æ³•

| æ–¹æ³•                                                         | ç±»å‹ | æè¿°                     |
|--------------------------------------------------------------|------|--------------------------|
| public boolean matchesâ€‹(String regex)                          | æ™®é€š | å°†æŒ‡å®šå­—ç¬¦ä¸²è¿›è¡Œæ­£åˆ™åˆ¤æ–­ |
| public String replaceAllâ€‹(String regex, String replacement)    | æ™®é€š | æ›¿æ¢å…¨éƒ¨                 |
| public String replaceFirst(String regex, String replacement) | æ™®é€š | æ›¿æ¢é¦–ä¸ªæ»¡è¶³çš„åŒ¹é…       |
| public String[] splitâ€‹(String regex)                           | æ™®é€š | å­—ç¬¦ä¸²æ‹†åˆ†               |
| public String[] splitâ€‹(String regex, int limit)                | æ™®é€š | æ‹†åˆ†æˆæŒ‡å®šä¸ªæ•°           |

* ğŸŒ°

```java

public class JavaDemo50 {
    public static void main(String[] args) {
        // åˆ é™¤éå­—æ¯å’Œæ•°å­—
        String str = "as&Y(HSHLHLJAKJ^&*()#*&%$sagdadaah128763562";
        String str1 = str.replaceAll("[^a-zA-Z0-9]*","");
        System.out.println(str1);
        //asYHSHLHLJAKJsagdadaah128763562

        // æ‹†åˆ†å­—æ¯
        String str2 = "a1b22c333d4444e55555f666666g";
        // String regex = "[^a-zA-Z]";
        // String [] arr = str2.replaceAll(regex,"").split("");
        String [] arr = str2.split("\\d+");
        for(String i : arr){
            System.out.print(i+"ã€");
        }
        //aã€bã€cã€dã€eã€fã€gã€
    }
}
```

* åœ¨æ­£åˆ™å¤„ç†çš„æ—¶å€™ï¼Œå¯¹äºæ‹†åˆ†ä¸æ›¿æ¢çš„æ“ä½œç›¸å¯¹å®¹æ˜“ä¸€äº›ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦çš„æ˜¯æ•°æ®éªŒè¯ã€‚

* ğŸŒ° åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦æ˜¯å°æ•°ï¼Œå¦‚æœæ˜¯å°†å…¶å˜ä¸ºdoubleç±»å‹

```java

public class JavaDemo51 {

    public static void main(String[] args) {
        String str = "12.";
        System.out.println(isDouble(str));
        if (isDouble(str)) {
            double num = Double.parseDouble(str);
            System.out.println(num);
        }
    }

    public static Boolean isDouble(String str) {
        String regex = "\\d+[.]?\\d+";
        // String regex = "\\d+([.]\\d+)?";
        return str.matches(regex);
    }
}
```

* åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æœ‰æ—¥æœŸæ‰€ç»„æˆï¼Œå¦‚æœæ˜¯è½¬ä¸ºDateã€‚
    * æ­£åˆ™è¡¨è¾¾å¼ä¸èƒ½åˆ¤æ–­å†…å®¹ï¼Œåªèƒ½åˆ¤æ–­æ ¼å¼ã€‚

```java
import java.text.SimpleDateFormat;
import java.util.Date;

public class JavaDemo51 {

    public static void main(String[] args) {
        String dStr = "2019-04-23 21:12:12";
        System.out.println(isDate(dStr));
        if (isDate(dStr)) {
            try {
                Date d = new SimpleDateFormat("yyyy-MM-dd").parse(dStr);
                System.out.println(d);
            } catch (Exception e) {
            }
        }
    }

    public static Boolean isDate(String str) {
        String regex = "\\d{4}-([0]\\d|[1][0-2])-([0-1]\\d|[2][0-8]|[3][0-1])\\s{1}([01]\\d|[2][0-4])(:[0-5]\\d){2}";
        return str.matches(regex);
    }
}
```

* åŒ¹é…ç”µè¯å·ç 
    * 60451234
    * 01060451234
    * (010)-60451234

```java
String pNum = "01060451234";
String regex = "(010|\\(010\\)-)?\\d{8}";
System.out.println(pNum.matches(regex));

```

## ç¬¬10ç«  Â» è¯¾æ—¶41 java.util.regexåŒ…æ”¯æŒ

* åœ¨java.util.regexåŒ…ä¸­ä¸€å…±å®šä¹‰æœ‰ä¸¤ä¸ªç±»
    * Pattern ï¼šæ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘ç±»
    * Matcher ï¼šæ­£åˆ™åŒ¹é…ç±»

* Pattren

    * public final class Pattern extends Object implements Serializable

    * æä¾›æœ‰æ­£åˆ™è¡¨è¾¾å¼çš„ç¼–è¯‘å¤„ç† public static Pattern compileâ€‹(String regex)

    * å­—ç¬¦ä¸²çš„æ‹†åˆ† public String[] splitâ€‹(CharSequence input)

```java
import java.util.regex.Pattern;

public class JavaDemo51 {

    public static void main(String[] args) {
        String strs = "ajdadh^*&@$%YGDGA*&@h320";
        Pattern p = Pattern.compile("[^a-zA-Z]+");
        String[] s = p.split(strs);
        for (String item : s) {
            System.out.print(item + "ã€");
        }
        // ajdadhã€YGDGAã€hã€
    }
}
```

* Matcherç±»ï¼Œå®ç°äº†æ­£åˆ™åŒ¹é…çš„å¤„ç†ç±»ï¼Œè¿™ä¸ªç±»çš„å¯¹è±¡å®ä¾‹åŒ–ä¾é äº†Pattrenç±»å®Œæˆã€‚

    * Patternç±»æä¾›çš„æ–¹æ³• public Matcher matcherâ€‹(CharSequence input)

    * å½“è·å–äº†Matcherç±»çš„å¯¹è±¡ä¹‹åå°±å¯ä»¥åˆ©ç”¨è¯¥ç±»ä¸­çš„æ–¹æ³•è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š
        * æ­£åˆ™åŒ¹é…ï¼š public boolean matchesâ€‹()
        * æ›¿æ¢ï¼š public String replaceAllâ€‹(String replacement)

```java
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class JavaDemo51 {

    public static void main(String[] args) {
        String m = "123";
        String regexM = "\\d+";
        Pattern pm = Pattern.compile(regexM);//ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼
        Matcher mat = pm.matcher(m);
        System.out.println(mat.matches());//true
    }

}
```

* å¦‚æœåªæ˜¯æ‹†åˆ†ï¼Œæ›¿æ¢ï¼ŒåŒ¹é…è¿™ä¸‰ç§æ“ä½œï¼ŒStringç±»å°±å¯ä»¥å®ç°äº†ï¼Œä¸éœ€è¦ä½¿ç”¨java.util.regexå¼€å‘åŒ…ï¼Œä½†æ˜¯Matcherç±»é‡Œæä¾›æœ‰ä¸€ç§åˆ†ç»„çš„åŠŸèƒ½ï¼Œæ˜¯Stringä¸å…·å¤‡çš„ã€‚

```java
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class JavaDemo51 {

    public static void main(String[] args) {

        // è¦æ±‚å–å‡º#{å†…å®¹} æ ‡è®°ä¸­æ‰€æœ‰å†…å®¹
        String str = "INSERT INTO dept(deptno,dname,loc) VALUES (#{deptno},#{dname},#{loc})";
        String regex = "#\\{\\w+\\}";
        Pattern p = Pattern.compile(regex); // ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼
        Matcher mat = p.matcher(str);
        // while (mat.find()) {// æ˜¯å¦æœ‰åŒ¹é…æˆåŠŸçš„å†…å®¹
        //     System.out.println(mat.group(0));// åˆ†ç»„è¾“å‡º
        // }
        // // #{deptno}
        // // #{dname}
        // // #{loc}
         while (mat.find()) {// æ˜¯å¦æœ‰åŒ¹é…æˆåŠŸçš„å†…å®¹
            System.out.println(mat.group(0).replaceAll("#|\\{|\\}", ""));// åˆ†ç»„è¾“å‡º
        }
        // deptno
        // dname
        // loc
    }
}
```

* åœ¨ä¸€äº›å¤æ‚çš„æ­£å¸¸å¤„ç†æ—¶ï¼Œä½¿ç”¨åˆ°java.util.regexåŒ…