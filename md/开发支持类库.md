# å¼€å‘æ”¯æŒç±»åº“

## ç¬¬12ç«  Â» è¯¾æ—¶47 UUIDç±»

* UUIDæ˜¯ä¸€ç§ç”Ÿæˆæ— é‡å¤çš„å­—ç¬¦ä¸²ç±»ï¼Œè¿™ç§ç¨‹åºç±»çš„ä¸»è¦ç›®çš„æ˜¯æ ¹æ®æ—¶é—´æˆ³è‡ªåŠ¨çš„å®ç°æ— é‡å¤å­—ç¬¦ä¸²ã€‚(æœ¬è´¨æ˜¯æœ‰å¾ˆä½å‡ ç‡å‡ºç°é‡å¤çš„ï¼Œæ¦‚ç‡åƒä¸‡äº¿åˆ†ä¹‹ä¸€ã€‚)

```java
Module java.base
Package java.util
Class UUID
```

* ä¸€èˆ¬è·å–UUIDéƒ½æ˜¯éšæœºç”Ÿæˆçš„æ¨¡å¼ï¼Œæ‰€æœ‰å¯ä»¥ä½¿ç”¨å¦‚ä¸‹åŠŸèƒ½å®ç°ï¼š
    * è·å–UUIDå¯¹è±¡ï¼š public static UUID randomUUIDâ€‹()
    * ä»å­—ç¬¦ä¸²å›åˆ°UUIDï¼š public static UUID fromStringâ€‹(String name)

* ä»€ä¹ˆæ—¶å€™ä½¿ç”¨UUIDï¼Œä¸€èˆ¬å¯¹æ–‡ä»¶è‡ªåŠ¨å‘½åæ—¶ä½¿ç”¨UUID

```java
import java.util.UUID;
public class JavaDemo53{
    public static void main(String[] args) {
        //è·å–UUIDå¯¹è±¡
        UUID uid = UUID.randomUUID();
        //è¾“å‡ºUUIDå¯¹è±¡ï¼Œé»˜è®¤è°ƒç”¨toStringè¾“å‡ºå­—ç¬¦ä¸²
        System.out.println(uid);
        //15f85631-b64f-4712-9e7e-e1e2e5b267d2
    }
}
```

## ç¬¬12ç«  Â» è¯¾æ—¶48 Optionalç±»

```java
Module java.base
Package java.util
Class Optional<T>
```

* Optionalç±»ä¸»è¦æ˜¯è¿›è¡Œnullçš„ç›¸å…³å¤„ç†ã€‚åœ¨ä»¥å‰ç¨‹åºå¼€å‘ä¹‹ä¸­ä¸ºé˜²æ­¢ç¨‹åºå‡ºç°ç©ºæŒ‡å‘å¼‚å¸¸ï¼Œä¸€èˆ¬æ˜¯è¿½åŠ nullçš„éªŒè¯ã€‚

* é¢„é˜²nullï¼Œä¸€èˆ¬è‡ªå¼•ç”¨æ¥æ”¶æ–¹è¢«åŠ¨è¿›è¡Œåˆ¤æ–­ï¼Œä¸ºäº†è§£å†³è¿™ç§è¢«åŠ¨çš„æ“ä½œï¼Œjavaç±»ä¸­æä¾›æœ‰ä¸€ä¸ªOptionalç±»ï¼Œè¿™ä¸ªç±»å¯ä»¥å®ç°ç©ºçš„å¤„ç†æ“ä½œã€‚åœ¨è¿™ä¸ªç±»é‡Œæä¾›æœ‰å¦‚ä¸‹æ“ä½œæ–¹æ³•
    * è¿”å›ç©ºæ•°æ®ï¼špublic static <T> Optional<T> emptyâ€‹()
    * è·å–æ•°æ®ï¼š public T getâ€‹()
    * ä¿å­˜æ•°æ®ä½†æ˜¯ä¸å…è®¸å‡ºç°null : public static <T> Optional<T> ofâ€‹(T value)
        * ä¿å­˜æ•°æ®å‡ºç°ç©ºï¼Œåˆ™æŠ›å‡ºNullPointerException 
    * ä¿å­˜æ•°æ®ä½†æ˜¯å…è®¸å‡ºç°null :public static <T> Optional<T> ofNullableâ€‹(T value)

    * ç©ºçš„æ—¶å€™è¿”å›å…¶ä»–æ•°æ®ï¼š public T orElseâ€‹(T other)

![](../img/Optional.png)

* ğŸŒ°ä¿®æ”¹ç¨‹åºæŒ‰ç…§æ­£è§„å®Œæˆ

```java
import java.util.Optional;

interface IMessage{
    public String getConnect();
}

class MessageImpl implements IMessage{
    @Override
    public String getConnect() {
        return "é“¾æ¥æˆåŠŸ";
    }
}

class MessageUtil{
    private MessageUtil(){};
    //é€šè¿‡OptionalåŒ…è£…å¯¹è±¡è¿›è¡Œå¯¹å…¶éªŒè¯
    public static  Optional<IMessage> getMessage(){
        return Optional.of(new MessageImpl());
    }
    public static void UseMessage(IMessage msg){
        // //é¢„é˜²null è‡ªå¼•ç”¨æ¥æ”¶æ–¹è¢«åŠ¨è¿›è¡Œåˆ¤æ–­
        // if(msg != null){
        //     System.out.println(msg.getConnect());
        // }

        // ä½¿ç”¨Optional
        System.out.println(msg.getConnect());
    }
}

public class JavaDemo53{
    public static void main(String[] args) {
        //ä½¿ç”¨nullä¼šç©ºæŒ‡å‘å¼‚å¸¸ NullPointerException
        MessageUtil.UseMessage(MessageUtil.getMessage().get());//é“¾æ¥æˆåŠŸ
    }
}
```

* å¦‚æœä¿å­˜æ•°æ®ä¸ºnullï¼Œå°±ä¼šåœ¨ä¿å­˜å‡ºå‡ºç°å¼‚å¸¸ã€‚

```java
public static  Optional<IMessage> getMessage(){
    return Optional.of(null);
}
// Exception in thread "main" java.lang.NullPointerException
// 	at java.base/java.util.Objects.requireNonNull(Objects.java:221)
// 	at java.base/java.util.Optional.<init>(Optional.java:107)
// 	at java.base/java.util.Optional.of(Optional.java:120)
// 	at MessageUtil.getMessage(JavaDemo53.java:20)
// 	at JavaDemo53.main(JavaDemo53.java:42)
```

* å¦‚æœä½¿ç”¨Optional.ofNullableä¸”ä½¿ç”¨getè·å–æ•°æ®å°±ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼Œéœ€è¦æ›´æ¢getä¸ºorElseæ–¹æ³•ï¼Œç›¸å½“äºä¸ºå½“å€¼ä¸ºnullï¼Œè®¾ç½®Tï¼ˆæ³›å‹ï¼‰ç±»å‹é»˜è®¤å€¼

```java
public static  Optional<IMessage> getMessage(){
    return Optional.ofNullable(null);
}
// Exception in thread "main" java.util.NoSuchElementException: No value present
// 	at java.base/java.util.Optional.get(Optional.java:148)
// 	at JavaDemo53.main(JavaDemo53.java:42)

```

```java
// ç›¸å½“äºä¸ºå½“å€¼ä¸ºnullï¼Œè®¾ç½®Tç±»å‹é»˜è®¤å€¼
MessageUtil.UseMessage(MessageUtil.getMessage().orElse(new MessageImpl())); //é“¾æ¥æˆåŠŸ

```

* åœ¨æ‰€æœ‰å¼•ç”¨æ“ä½œå¤„ç†ä¸­nullæ˜¯ä¸€ä¸ªé‡è¦çš„æŠ€æœ¯é—®é¢˜ï¼Œæ‰€ä»¥jdk1.8ä¹‹åè¿™ä¸ªæ–°çš„ç±»å¯¹äºnullçš„å¤„ç†å¾ˆæœ‰å¸®åŠ©ã€‚